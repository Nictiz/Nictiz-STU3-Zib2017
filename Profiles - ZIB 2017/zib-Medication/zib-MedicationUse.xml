<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="zib-MedicationUse" />
  <url value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicationUse" />
  <version value="2.2.0" />
  <name value="Zib MedicationUse" />
  <title value="HCIM MedicationUse" />
  <status value="active" />
  <publisher value="Nictiz" />
  <contact>
    <name value="Nictiz" />
    <telecom>
      <system value="email" />
      <value value="info@nictiz.nl" />
      <use value="work" />
    </telecom>
  </contact>
  <description value="This profile is based on Medicatieproces V9.0.7 and the related Dutch Health and Care Information models (Dutch: Zorginformatiebouwsteen or ZIB) MedicationUse version 1.0.1, year 2017.&#xD;&#xA;&#xD;&#xA;MedicationUse is a statement on the historic, current or intended use of a certain medicine." />
  <purpose value="The goal of the medication use is to provide insight into the patientâ€™s pattern of use." />
  <copyright value="CC0" />
  <fhirVersion value="3.0.1" />
  <mapping>
    <identity value="hcim-medicationuse2-v1.0-2017EN" />
    <uri value="https://zibs.nl/wiki/MedicationUse2-v1.0(2017EN)" />
    <name value="HCIM MedicationUse2-v1.0(2017EN)" />
  </mapping>
  <mapping>
    <identity value="hcim-timeinterval-v1.0-2017EN" />
    <uri value="https://zibs.nl/wiki/TimeInterval-v1.0(2017EN)" />
    <name value="HCIM Part TimeInterval-v1.0(2017EN)" />
  </mapping>
  <mapping>
    <identity value="Medication-Process-v09" />
    <uri value="https://decor.nictiz.nl/medicatieproces/mp-html-20181220T121121/ds-2.16.840.1.113883.2.4.3.11.60.20.77.1.3-2016-06-01T000000.html" />
    <name value="Medication Process v09" />
    <comment value="Language of Medication Process is Dutch." />
  </mapping>
  <mapping>
    <identity value="hcim-instructionsforuse-v1.0-2017EN" />
    <uri value="https://zibs.nl/wiki/InstructionsForUse-v1.0(2017EN)" />
    <name value="HCIM InstructionsForUse-v1.0(2017EN)" />
  </mapping>
  <mapping>
    <identity value="hcim-basicelements-v1.0-2017EN" />
    <uri value="https://zibs.nl/wiki/BasicElements-v1.0(2017EN)" />
    <name value="HCIM BasicElements-v1.0(2017EN)" />
  </mapping>
  <kind value="resource" />
  <abstract value="false" />
  <type value="MedicationStatement" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/MedicationStatement" />
  <derivation value="constraint" />
  <differential>
    <element id="MedicationStatement">
      <path value="MedicationStatement" />
      <short value="MedicationUse" />
      <definition value="MedicationUse is a statement on the historic, current or intended use of a certain medicine." />
      <alias value="Medicatiegebruik" />
      <mapping>
        <identity value="hcim-medicationuse2-v1.0-2017EN" />
        <map value="NL-CM:9.11.21338" />
        <comment value="MedicationUse" />
      </mapping>
    </element>
    <element id="MedicationStatement.extension">
      <path value="MedicationStatement.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationStatement.extension:asAgreedIndicator">
      <path value="MedicationStatement.extension" />
      <sliceName value="asAgreedIndicator" />
      <short value="AsAgreedIndicator" />
      <definition value="Is the medicine used as outlined in the medication agreement?" />
      <alias value="VolgensAfspraakIndicator" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicationUse-AsAgreedIndicator" />
      </type>
      <mapping>
        <identity value="hcim-medicationuse2-v1.0-2017EN" />
        <map value="NL-CM:9.11.22492" />
        <comment value="AsAgreedIndicator" />
      </mapping>
    </element>
    <element id="MedicationStatement.extension:asAgreedIndicator.valueBoolean:valueBoolean">
      <path value="MedicationStatement.extension.valueBoolean" />
      <sliceName value="valueBoolean" />
      <example>
        <label value="Example of asAgreed" />
        <valueBoolean value="true" />
      </example>
    </element>
    <element id="MedicationStatement.extension:prescriber">
      <path value="MedicationStatement.extension" />
      <sliceName value="prescriber" />
      <short value="Prescriber" />
      <definition value="The health professional that entered the medication agreement with the patient." />
      <comment value="The health professional's specialty, role, and organization are captured and communicated through the PractitionerRole Resource based on the nl-core-practitionerrole profile." />
      <alias value="Voorschrijver" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicationUse-Prescriber" />
      </type>
      <mapping>
        <identity value="hcim-medicationuse2-v1.0-2017EN" />
        <map value="NL-CM:9.11.23290" />
        <comment value="Prescriber" />
      </mapping>
    </element>
    <element id="MedicationStatement.extension:author">
      <path value="MedicationStatement.extension" />
      <sliceName value="author" />
      <short value="Author" />
      <definition value="The author of this MedicationStatement. This is either a patient, a health professional or a healthcare provicer." />
      <comment value="A patient as author maps to the MP9 concept: mp-dataelement900-22472.&#xD;&#xA;A health professional as author maps to the MP9 concept: mp-dataelement900-22473.&#xD;&#xA;A healthcare provider as author maps to the MP9 concept: mp-dataelement900-23994.&#xD;&#xA;&#xD;&#xA;The health professional's specialty, role, and organization are captured and communicated through the PractitionerRole Resource based on the nl-core-practitionerrole profile." />
      <alias value="Auteur" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicationUse-Author" />
      </type>
      <mapping>
        <identity value="Medication-Process-v09" />
        <map value="mp-dataelement900-22471" />
        <comment value="Auteur" />
      </mapping>
      <mapping>
        <identity value="hcim-basicelements-v1.0-2017EN" />
        <map value="NL-CM:0.0.7" />
        <comment value="Author" />
      </mapping>
    </element>
    <element id="MedicationStatement.extension:medicationTreament">
      <path value="MedicationStatement.extension" />
      <sliceName value="medicationTreament" />
      <short value="Medical Treatment" />
      <definition value="This extension is to describe which overarching medical treatment this information is part of. This is done by the use of an identifier of that medical treatment." />
      <comment value="No HCIM concept is available for this element. Therefore a mapping to the relevant element Medication Process data element is provided." />
      <alias value="Medicamenteuze Behandeling" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/zib-Medication-MedicationTreatment" />
      </type>
      <mapping>
        <identity value="Medication-Process-v09" />
        <map value="mp-dataelement900-22092" />
        <comment value="Medicamenteuze behandeling" />
      </mapping>
    </element>
    <element id="MedicationStatement.extension:copyIndicator">
      <path value="MedicationStatement.extension" />
      <sliceName value="copyIndicator" />
      <short value="copy indicator" />
      <alias value="kopie indicator" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/zib-Medication-CopyIndicator" />
      </type>
      <mapping>
        <identity value="Medication-Process-v09" />
        <map value="mp-dataelement900-23413" />
        <comment value="Kopie Indicator" />
      </mapping>
    </element>
    <element id="MedicationStatement.extension:reasonForChangeOrDiscontinuationOfUse">
      <path value="MedicationStatement.extension" />
      <sliceName value="reasonForChangeOrDiscontinuationOfUse" />
      <short value="ReasonForChangeOrDiscontinuationOfUse" />
      <definition value="Reason for changing or discontinuing use of medication." />
      <alias value="RedenWijzigenOfStoppenGebruik" />
      <alias value="Reden wijzigen of stoppen gebruik" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicationUse-ReasonForChangeOrDiscontinuationOfUse" />
      </type>
    </element>
    <element id="MedicationStatement.extension:reasonForChangeOrDiscontinuationOfUse.valueCodeableConcept:valueCodeableConcept">
      <path value="MedicationStatement.extension.valueCodeableConcept" />
      <sliceName value="valueCodeableConcept" />
      <example>
        <label value="Example of ReasonForChangeOrDiscontinuationOfUse" />
        <valueCodeableConcept>
          <coding>
            <system value="urn:oid:2.16.840.1.113883.6.96" />
            <code value="79899007" />
            <display value="Drug interaction (disorder)" />
          </coding>
        </valueCodeableConcept>
      </example>
      <binding>
        <strength value="extensible" />
      </binding>
      <mapping>
        <identity value="hcim-medicationuse2-v1.0-2017EN" />
        <map value="NL-CM:9.11.22493" />
        <comment value="ReasonForChangeOrDiscontinuationOfUse" />
      </mapping>
    </element>
    <element id="MedicationStatement.extension:practitionerRole">
      <path value="MedicationStatement.extension" />
      <sliceName value="practitionerRole" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference" />
      </type>
    </element>
    <element id="MedicationStatement.informationSource">
      <path value="MedicationStatement.informationSource" />
      <mapping>
        <identity value="hcim-basicelements-v1.0-2017EN" />
        <map value="NL-CM:0.0.2" />
        <comment value="InformationSource" />
      </mapping>
      <mapping>
        <identity value="Medication-Process-v09" />
        <map value="mp-dataelement900-22424" />
        <comment value="Informant" />
      </mapping>
    </element>
    <element id="MedicationStatement.subject">
      <path value="MedicationStatement.subject" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://fhir.nl/fhir/StructureDefinition/nl-core-patient" />
      </type>
      <mapping>
        <identity value="hcim-basicelements-v1.0-2017EN" />
        <map value="NL-CM:0.0.11" />
        <comment value="Subject" />
      </mapping>
    </element>
    <element id="MedicationStatement.derivedFrom">
      <path value="MedicationStatement.derivedFrom" />
      <slicing>
        <discriminator>
          <type value="profile" />
          <path value="item.reference.resolve()" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationStatement.derivedFrom:relatedAgreement">
      <path value="MedicationStatement.derivedFrom" />
      <sliceName value="relatedAgreement" />
      <short value="Related Agreement" />
      <definition value="A reference to a medication or dispense request that have been the medication usage has been based on." />
      <alias value="Gerelateerde afspraak" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://nictiz.nl/fhir/StructureDefinition/zib-AdministrationAgreement" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicationAgreement" />
      </type>
      <mapping>
        <identity value="Medication-Process-v09" />
        <map value="mp-dataelement900-22402" />
        <comment value="Gerelateerde afspraak" />
      </mapping>
    </element>
    <element id="MedicationStatement.derivedFrom:relatedDispense">
      <path value="MedicationStatement.derivedFrom" />
      <sliceName value="relatedDispense" />
      <short value="Related Dispense" />
      <definition value="A reference to the dispense that has provided the basis for indicating use." />
      <alias value="Gerelateerde verstrekking" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://nictiz.nl/fhir/StructureDefinition/zib-Dispense" />
      </type>
      <mapping>
        <identity value="Medication-Process-v09" />
        <map value="mp-dataelement900-22404" />
        <comment value="Gerelateerde verstrekking" />
      </mapping>
    </element>
    <element id="MedicationStatement.taken">
      <path value="MedicationStatement.taken" />
      <short value="UseIndicator" />
      <definition value="Is this medicine used or not?" />
      <alias value="GebruikIndicator" />
      <example>
        <label value="Example of taken" />
        <valueCode value="y" />
      </example>
      <mapping>
        <identity value="hcim-medicationuse2-v1.0-2017EN" />
        <map value="NL-CM:9.11.22399" />
        <comment value="UseIndicator" />
      </mapping>
    </element>
    <element id="MedicationStatement.reasonCode.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationStatement.reasonCode.text" />
      <short value="ReasonForUse" />
      <definition value="The reason for using the medication, particularly in self-care medicine purchased by the patient themselves." />
      <alias value="RedenGebruik" />
      <mapping>
        <identity value="hcim-medicationuse2-v1.0-2017EN" />
        <map value="NL-CM:9.11.22491" />
        <comment value="ReasonForUse" />
      </mapping>
    </element>
    <element id="MedicationStatement.note">
      <path value="MedicationStatement.note" />
      <short value="Comment" />
      <definition value="Comments on the medication use." />
      <alias value="Toelichting" />
      <mapping>
        <identity value="hcim-medicationuse2-v1.0-2017EN" />
        <map value="NL-CM:9.11.21624" />
        <comment value="Comment" />
      </mapping>
    </element>
    <element id="MedicationStatement.dosage">
      <path value="MedicationStatement.dosage" />
      <type>
        <code value="Dosage" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/zib-InstructionsForUse" />
      </type>
      <mapping>
        <identity value="hcim-medicationuse2-v1.0-2017EN" />
        <map value="NL-CM:9.11.22504" />
        <comment value="InstructionsForUse" />
      </mapping>
    </element>
    <element id="MedicationStatement.dosage.timing.repeat.extension:exact">
      <path value="MedicationStatement.dosage.timing.repeat.extension" />
      <sliceName value="exact" />
    </element>
    <element id="MedicationStatement.dosage.timing.repeat.extension:exact.valueBoolean:valueBoolean">
      <path value="MedicationStatement.dosage.timing.repeat.extension.valueBoolean" />
      <sliceName value="valueBoolean" />
    </element>
    <element id="MedicationStatement.dosage.dose[x]">
      <path value="MedicationStatement.dosage.dose[x]" />
      <slicing>
        <discriminator>
          <type value="type" />
          <path value="$this" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
  </differential>
</StructureDefinition>